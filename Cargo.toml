[package]
authors = ["Js2xxx <akucxy@163.com>"]
edition = "2021"
license = "MIT OR Apache-2.0"
name = "ferroc"
version = "0.1.0"

[lib]
crate-type = ["rlib", "cdylib", "staticlib"]

[features]
base-mmap = ["dep:region"]
base-static = []
c = ["default", "dep:cbindgen"]
default = ["global", "base-mmap", "base-static", "libc"]
global = []
libc = ["dep:libc"]
stat = []

[dependencies]
libc = {version = "0.2", optional = true}
region = {version = "3.0", optional = true}

[build-dependencies]
cbindgen = {version = "0.24", optional = true}

[profile.release]
codegen-units = 1
lto = true
panic = "abort"

[workspace]
members = ["fuzz"]
resolver = "2"
